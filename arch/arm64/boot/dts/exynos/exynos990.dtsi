// SPDX-License-Identifier: GPL-2.0-only
/*
 * Copyright (c) 2023, Igor Belwon <thenxguy0@gmail.com>
 */

#include <dt-bindings/interrupt-controller/arm-gic.h>

/ {
    #address-cells = <2>;
	#size-cells = <2>;
	interrupt-parent = <&interruptctl>;

    arm-pmu {
		compatible = "arm,cortex-a55-pmu";
		interrupts = <GIC_SPI 89 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 90 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 91 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 92 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 108 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 109 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 110 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 111 IRQ_TYPE_LEVEL_HIGH>;
		interrupt-affinity = <&cpu0>;
	};

    cpus {
        #address-cells = <1>;
		#size-cells = <0>;

		cpu0: cpu@0 {
			device_type = "cpu";
			compatible = "arm,cortex-a55";
			reg = <0x0>;
			enable-method = "psci";
		};

        cpu-map {
			cluster0 {
				core0 {
					cpu = <&cpu0>;
				};
			};
		};
    };

	psci {
		compatible = "arm,psci";
		method = "smc";
	};

	soc: soc {
		compatible = "simple-bus";
		#address-cells = <1>;
		#size-cells = <1>;
		ranges = <0 0 0 0xffffffff>;

			/* To be cleaned up... */
			interruptctl: interrupt-controller@10100000 {
				compatible = "arm,cortex-a15-gic";
				#interrupt-cells = <0x03>;
				interrupt-controller;
				reg = <0x00 0x10101000 0x1000 0x00 0x10102000 0x1000 0x00 0x10104000 0x2000 0x00 0x10106000 0x2000>;
				interrupts = <0x01 0x09 0xf04>;
		};
			mct@10040000 {
			compatible = "samsung,exynos4210-mct";
			reg = <0x00 0x10040000 0x800>;
			interrupts = <0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0a 0x0b>;
	};
	};
	timer {
		compatible = "arm,armv8-timer";
		interrupts = <0x01 0x0d 0xff08 0x01 0x0e 0xff08 0x01 0x0b 0xff08 0x01 0x0a 0xff08>;
		clock-frequency = <26000000>;
	};
};